{
  "cases": [
    {
      "name": "openai_default_when_key_present",
      "preferred": "gpt-5-mini",
      "env": {"OPENAI_API_KEY": "x"},
      "expected_model": "gpt-4o-mini"
    },
    {
      "name": "google_fallback_when_openai_missing",
      "preferred": "gpt-5-mini",
      "env": {"GOOGLE_API_KEY": "x"},
      "expected_model": "gemini-1.5-flash"
    },
    {
      "name": "anthropic_fallback",
      "preferred": "gpt-5-mini",
      "env": {"ANTHROPIC_API_KEY": "x"},
      "expected_model": "claude-3-haiku-20240307"
    },
    {
      "name": "groq_fallback",
      "preferred": "gpt-5-mini",
      "env": {"GROQ_API_KEY": "x"},
      "expected_model": "groq/llama-3.1-70b-versatile"
    },
    {
      "name": "deepseek_fallback",
      "preferred": "gpt-5-mini",
      "env": {"DEEPSEEK_API_KEY": "x"},
      "expected_model": "deepseek/deepseek-chat"
    },
    {
      "name": "xai_fallback",
      "preferred": "gpt-5-mini",
      "env": {"XAI_API_KEY": "x"},
      "expected_model": "xai/grok-2-mini"
    },
    {
      "name": "openrouter_fallback",
      "preferred": "gpt-5-mini",
      "env": {"OPENROUTER_API_KEY": "x"},
      "expected_model": "openrouter/openai/gpt-4o-mini"
    },
    {
      "name": "provider_qualified_preserved",
      "preferred": "openrouter/openai/gpt-4o-mini",
      "env": {"OPENAI_API_KEY": "x"},
      "expected_model": "openrouter/openai/gpt-4o-mini"
    }
  ]
}
